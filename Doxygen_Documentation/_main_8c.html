<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.16.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Fixed-Point Arithmetic - Harikrishnan Haridas: Main.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Fixed-Point Arithmetic - Harikrishnan Haridas
   </div>
   <div id="projectbrief">Fixed-point arithmetic module providing 8-bit and 16-bit operations with configurable Q-format and Test Harness for validation</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.16.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('_main_8c.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">Main.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Automated test suite for FixedPoint arithmetic (8-bit and 16-bit).  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;Windows.h&gt;</code><br />
<code>#include &lt;conio.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &quot;<a class="el" href="_global___types_8h_source.html">Global_Types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="_fixed_point_8h_source.html">FixedPoint.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-nested-classes" class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:TestVector_5Ft" id="r_TestVector_5Ft"><td class="memItemLeft">struct &#160;</td><td class="memItemRight"><a class="el" href="struct_test_vector__t.html">TestVector_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Single test case definition.  <a href="struct_test_vector__t.html#details">More...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-define-members" class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga1a0963769fa48e40b82eab83adc0ab8d" id="r_ga1a0963769fa48e40b82eab83adc0ab8d"><td class="memItemLeft">#define&#160;</td><td class="memItemRight"><a class="el" href="group__g___test_harness.html#ga1a0963769fa48e40b82eab83adc0ab8d">TEST_EPSILON_16</a>&#160;&#160;&#160;(1.1f / (float)<a class="el" href="group__g___fixed_point.html#gaee9fd65f7c5e6dbb4aab1367828ad0a6">SCALE_16</a>)</td></tr>
<tr class="memdesc:ga1a0963769fa48e40b82eab83adc0ab8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tolerance for 16-bit tests.  <br /></td></tr>
<tr class="memitem:ga3fc59ba0545372e6db306b35e6c510ca" id="r_ga3fc59ba0545372e6db306b35e6c510ca"><td class="memItemLeft">#define&#160;</td><td class="memItemRight"><a class="el" href="group__g___test_harness.html#ga3fc59ba0545372e6db306b35e6c510ca">TEST_EPSILON_8</a>&#160;&#160;&#160;(1.1f / (float)<a class="el" href="group__g___fixed_point.html#gaeb4f405905c6452cf22e4a2cdb232acb">SCALE_8</a>)</td></tr>
<tr class="memdesc:ga3fc59ba0545372e6db306b35e6c510ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tolerance for 8-bit fixed-point tests.  <br /></td></tr>
<tr class="memitem:gaecef0e10c00998baac1da2e61bf72643" id="r_gaecef0e10c00998baac1da2e61bf72643"><td class="memItemLeft">#define&#160;</td><td class="memItemRight"><a class="el" href="group__g___test_harness.html#gaecef0e10c00998baac1da2e61bf72643">FIX16_REAL_MAX</a>&#160;&#160;&#160;((float)<a class="el" href="group__g___fixed_point.html#gada7b4289194aa38cc837ff1b0bda38ae">FIX16_MAX</a> / (float)<a class="el" href="group__g___fixed_point.html#gaee9fd65f7c5e6dbb4aab1367828ad0a6">SCALE_16</a>)</td></tr>
<tr class="memdesc:gaecef0e10c00998baac1da2e61bf72643"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum representable real value for 16-bit fixed-point format derived from configuration SCALE_X value.  <br /></td></tr>
<tr class="memitem:gad9ce44ecc50551a7919cf6d46b660da8" id="r_gad9ce44ecc50551a7919cf6d46b660da8"><td class="memItemLeft">#define&#160;</td><td class="memItemRight"><a class="el" href="group__g___test_harness.html#gad9ce44ecc50551a7919cf6d46b660da8">FIX16_REAL_MIN</a>&#160;&#160;&#160;((float)<a class="el" href="group__g___fixed_point.html#gaabaf8e840ef828349dc22d850a2bf16a">FIX16_MIN</a> / (float)<a class="el" href="group__g___fixed_point.html#gaee9fd65f7c5e6dbb4aab1367828ad0a6">SCALE_16</a>)</td></tr>
<tr class="memdesc:gad9ce44ecc50551a7919cf6d46b660da8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum representable real value for 16-bit fixed-point format derived from configuration SCALE_X value.  <br /></td></tr>
<tr class="memitem:ga7e0929f5e310e41182ba145dd306e570" id="r_ga7e0929f5e310e41182ba145dd306e570"><td class="memItemLeft">#define&#160;</td><td class="memItemRight"><a class="el" href="group__g___test_harness.html#ga7e0929f5e310e41182ba145dd306e570">FIX8_REAL_MAX</a>&#160;&#160;&#160;((float)<a class="el" href="group__g___fixed_point.html#ga2514e1cad595f2a1b5ed76a677834aca">FIX8_MAX</a>  / (float)<a class="el" href="group__g___fixed_point.html#gaeb4f405905c6452cf22e4a2cdb232acb">SCALE_8</a>)</td></tr>
<tr class="memdesc:ga7e0929f5e310e41182ba145dd306e570"><td class="mdescLeft">&#160;</td><td class="mdescRight">Maximum representable real value for 8-bit fixed-point format derived from configuration SCALE_X value.  <br /></td></tr>
<tr class="memitem:gaac4dc77fa53a3caab4c3a8f2d8520a07" id="r_gaac4dc77fa53a3caab4c3a8f2d8520a07"><td class="memItemLeft">#define&#160;</td><td class="memItemRight"><a class="el" href="group__g___test_harness.html#gaac4dc77fa53a3caab4c3a8f2d8520a07">FIX8_REAL_MIN</a>&#160;&#160;&#160;((float)<a class="el" href="group__g___fixed_point.html#ga92aeb2c02bccdfc4328b63ffc1902425">FIX8_MIN</a>  / (float)<a class="el" href="group__g___fixed_point.html#gaeb4f405905c6452cf22e4a2cdb232acb">SCALE_8</a>)</td></tr>
<tr class="memdesc:gaac4dc77fa53a3caab4c3a8f2d8520a07"><td class="mdescLeft">&#160;</td><td class="mdescRight">Minimum representable real value for 8-bit fixed-point format derived from configuration SCALE_X value.  <br /></td></tr>
<tr class="memitem:gabe160a6ddffc49a64cda07d0d7aef4e4" id="r_gabe160a6ddffc49a64cda07d0d7aef4e4"><td class="memItemLeft">#define&#160;</td><td class="memItemRight"><a class="el" href="group__g___test_harness.html#gabe160a6ddffc49a64cda07d0d7aef4e4">FIX16_RESOLUTION</a>&#160;&#160;&#160;(1.0f / (float)<a class="el" href="group__g___fixed_point.html#gaee9fd65f7c5e6dbb4aab1367828ad0a6">SCALE_16</a>)</td></tr>
<tr class="memdesc:gabe160a6ddffc49a64cda07d0d7aef4e4"><td class="mdescLeft">&#160;</td><td class="mdescRight">One LSB resolution derived from SCALE_X for 16-bit fixed-point format (real domain).  <br /></td></tr>
<tr class="memitem:ga53137313f8c6f2f0d394cd1908fdece0" id="r_ga53137313f8c6f2f0d394cd1908fdece0"><td class="memItemLeft">#define&#160;</td><td class="memItemRight"><a class="el" href="group__g___test_harness.html#ga53137313f8c6f2f0d394cd1908fdece0">FIX16_BELOW_RES</a>&#160;&#160;&#160;(0.49f * <a class="el" href="group__g___test_harness.html#gabe160a6ddffc49a64cda07d0d7aef4e4">FIX16_RESOLUTION</a>)</td></tr>
<tr class="memdesc:ga53137313f8c6f2f0d394cd1908fdece0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Value below one LSB to trigger precision underflow for test case in 16-bit format.  <br /></td></tr>
<tr class="memitem:ga38d206567ad9bdceb539fe90e76f9d68" id="r_ga38d206567ad9bdceb539fe90e76f9d68"><td class="memItemLeft">#define&#160;</td><td class="memItemRight"><a class="el" href="group__g___test_harness.html#ga38d206567ad9bdceb539fe90e76f9d68">FIX8_RESOLUTION</a>&#160;&#160;&#160;(1.0f / (float)<a class="el" href="group__g___fixed_point.html#gaeb4f405905c6452cf22e4a2cdb232acb">SCALE_8</a>)</td></tr>
<tr class="memdesc:ga38d206567ad9bdceb539fe90e76f9d68"><td class="mdescLeft">&#160;</td><td class="mdescRight">One LSB resolution derived from SCALE_X for 8-bit fixed-point format (real domain).  <br /></td></tr>
<tr class="memitem:ga90b30d65c28ad1003fbc2b34acea4883" id="r_ga90b30d65c28ad1003fbc2b34acea4883"><td class="memItemLeft">#define&#160;</td><td class="memItemRight"><a class="el" href="group__g___test_harness.html#ga90b30d65c28ad1003fbc2b34acea4883">FIX8_BELOW_RES</a>&#160;&#160;&#160;(0.49f * <a class="el" href="group__g___test_harness.html#ga38d206567ad9bdceb539fe90e76f9d68">FIX8_RESOLUTION</a>)</td></tr>
<tr class="memdesc:ga90b30d65c28ad1003fbc2b34acea4883"><td class="mdescLeft">&#160;</td><td class="mdescRight">Value below one LSB to trigger precision underflow for test case in 8-bit format.  <br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-enum-members" class="groupheader"><a id="enum-members" name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ga92dccb69fa1d8432cef43f274c62501f" id="r_ga92dccb69fa1d8432cef43f274c62501f"><td class="memItemLeft">enum &#160;</td><td class="memItemRight"><a class="el" href="group__g___test_harness.html#ga92dccb69fa1d8432cef43f274c62501f">Test_Operation_t</a> { <a class="el" href="group__g___test_harness.html#gga92dccb69fa1d8432cef43f274c62501fac2e0c556d970f535cedc1fe5bc8fe5e9">TEST_OP_ADD</a> = 0
, <a class="el" href="group__g___test_harness.html#gga92dccb69fa1d8432cef43f274c62501fa539fc9eb60d9fb51c58c79511734dbe0">TEST_OP_SUB</a>
, <a class="el" href="group__g___test_harness.html#gga92dccb69fa1d8432cef43f274c62501faa0e6ac25aee46aea578c535220a53773">TEST_OP_MUL</a>
, <a class="el" href="group__g___test_harness.html#gga92dccb69fa1d8432cef43f274c62501fa6211feee65a30a68b6f78d23773b3a7f">TEST_OP_DIV</a>
 }</td></tr>
<tr class="memdesc:ga92dccb69fa1d8432cef43f274c62501f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumeration of all supported arithmetic operations in the test harness.  <a href="group__g___test_harness.html#ga92dccb69fa1d8432cef43f274c62501f">More...</a><br /></td></tr>
<tr class="memitem:ga84e0a84667b0a6835e59d62ab70621c8" id="r_ga84e0a84667b0a6835e59d62ab70621c8"><td class="memItemLeft">enum &#160;</td><td class="memItemRight"><a class="el" href="group__g___test_harness.html#ga84e0a84667b0a6835e59d62ab70621c8">Test_Width_t</a> { <a class="el" href="group__g___test_harness.html#gga84e0a84667b0a6835e59d62ab70621c8a6cf7a0a79b4d2743e453a3d694084f17">TEST_WIDTH_8</a> = 0
, <a class="el" href="group__g___test_harness.html#gga84e0a84667b0a6835e59d62ab70621c8aba29a22e422cb6a2ddeae9afda853bc1">TEST_WIDTH_16</a>
 }</td></tr>
<tr class="memdesc:ga84e0a84667b0a6835e59d62ab70621c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enumeration of tested fixed point widths. 8 and 16 bits.  <a href="group__g___test_harness.html#ga84e0a84667b0a6835e59d62ab70621c8">More...</a><br /></td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-func-members" class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga916a1f20b502ecee0844c3e9602104fe" id="r_ga916a1f20b502ecee0844c3e9602104fe"><td class="memItemLeft">static void&#160;</td><td class="memItemRight"><a class="el" href="group__g___test_harness.html#ga916a1f20b502ecee0844c3e9602104fe">RunAllTests</a> (void)</td></tr>
<tr class="memdesc:ga916a1f20b502ecee0844c3e9602104fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute all predefined test vectors and print a summary.  <br /></td></tr>
<tr class="memitem:gae1814a339ee3b58f843eb6a5ad8929f8" id="r_gae1814a339ee3b58f843eb6a5ad8929f8"><td class="memItemLeft">static void&#160;</td><td class="memItemRight"><a class="el" href="group__g___test_harness.html#gae1814a339ee3b58f843eb6a5ad8929f8">RunSingleTest</a> (const <a class="el" href="struct_test_vector__t.html">TestVector_t</a> *test, unsigned int id, unsigned int *passCount, unsigned int *failCount)</td></tr>
<tr class="memdesc:gae1814a339ee3b58f843eb6a5ad8929f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute a single test vector on the appropriate Fixed Point API.  <br /></td></tr>
<tr class="memitem:ga840291bc02cba5474a4cb46a9b9566fe" id="r_ga840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft">int&#160;</td><td class="memItemRight"><a class="el" href="group__g___test_harness.html#ga840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="memdesc:ga840291bc02cba5474a4cb46a9b9566fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main entry point for the FixedPoint test suite.  <br /></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Automated test suite for FixedPoint arithmetic (8-bit and 16-bit). </p>
<p>Component Fixed Point Arithmetic</p>
<p>Filename <a class="el" href="_main_8c.html" title="Automated test suite for FixedPoint arithmetic (8-bit and 16-bit).">Main.c</a></p>
<pre class="fragment">       This module defines a set of test vectors to verify:
       - Typical arithmetic behaviour
       - Boundary conditions and saturation
       - Rounding and precision loss at very small magnitudes
       - Division by zero handling

       Each test case defines: 
       - Inputs A and B
       - Operation type
       - Expected floating point result
       - Allowed tolerance epsilon
       - Expected return code
       - Description

       The tests execute on the application start and print a
       PASS/FAIL report based on results and tolerance to the console.
</pre><dl class="section note"><dt>Note</dt><dd>TEST HARNESS CONSTRAINTS &amp; BEHAVIOR: <pre class="fragment">      1. Configuration Dependency:
      The saturation, boundary, rounding and resolution test cases are configuration aware and adjusts 
      according to the SHIFT_x parameters.The test vectors and expected values for  typical range tests in 
      this test harness are calibrated for the default Q7.8 (16-bit) and Q3.4 (8-bit) configurations.
      Since the fixed point implementation is flexible and the the SHIFT_x parameters in FixedPoint_cfg.h 
      can be modified as per user requirement to set a different Q m.n configuration other than default, 
      this modification may affect the numerical range and resolution, which can lead to failures in the 
      typical range tests in this harness and this does not indicate an implementation error. 

      2. Error Case Validation (E_NOT_OK):
      For operations resulting in saturation or division by zero, this test harness
      results are printed for informational purposes and are not automatically
      compared against expected values to avoid false negatives.
</pre></dd></dl>
<dl class="section author"><dt>Author</dt><dd>Harikrishnan Haridas</dd></dl>
<pre class="fragment">***********************************************************************************************************************
* Changes                                                                                                             *
***********************************************************************************************************************
*
* Version   Date        Sign  Description
* --------  ----------  ----  -----------
* 01.00.00  2025-12-14  Hari   Initial check in
* 01.01.00  2025-12-22  Hari   Updated into automated test setup with structured test vectors and PASS/FAIL report.
* 01.02.00  2025-12-27  Hari   Added more cases.
* 01.03.00  2026-01-09  Hari   Updated and added detailed comments.
*
* </pre> </div></div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="_main_8c.html">Main.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.16.1 </li>
  </ul>
</div>
</body>
</html>
